<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‚¬ìƒ‰ì˜ ê¸°ë¡ - ë…ì„œ ì»¤ë®¤ë‹ˆí‹°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { -webkit-tap-highlight-color: transparent; }
        .serif { font-family: 'Noto Serif KR', serif; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <main id="app" class="pb-20">
        <section id="home" class="tab-content active">
            <header class="p-6 bg-white border-b">
                <h1 class="text-2xl font-bold serif">ì‚¬ìƒ‰ì˜ ê¸°ë¡</h1>
            </header>
            <div class="p-4">
                <div class="bg-indigo-900 text-white p-6 rounded-2xl shadow-lg mb-6">
                    <span class="text-xs opacity-70">ì´ë²ˆ ë‹¬ì˜ ë„ì„œ</span>
                    <h2 class="text-xl font-bold mt-1">ì£½ìŒì˜ ìˆ˜ìš©ì†Œì—ì„œ</h2>
                    <p class="text-sm opacity-80 mt-2">ë¹…í„° í”„ë­í´ ì €</p>
                    <div class="mt-4 bg-white/20 h-1 rounded-full overflow-hidden">
                        <div class="bg-white h-full" style="width: 65%"></div>
                    </div>
                </div>
                <h3 class="font-bold mb-4">ìµœê·¼ ë‚˜ì˜ ë¬¸ì¥</h3>
                <div id="recent-quote" class="bg-white p-4 rounded-xl border mb-4 italic text-gray-500">
                    ì•„ì§ ê¸°ë¡ëœ ë¬¸ì¥ì´ ì—†ìŠµë‹ˆë‹¤.
                </div>
            </div>
        </section>

        <section id="sentences" class="tab-content">
            <header class="p-6 bg-white border-b flex justify-between items-center">
                <h1 class="text-2xl font-bold serif">ê¸°ë¡ëœ ë¬¸ì¥ë“¤</h1>
                <button onclick="openModal()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-bold">+ ì¶”ê°€</button>
            </header>
            <div id="quote-list" class="p-4 space-y-4">
                </div>
        </section>

        <section id="memo" class="tab-content">
            <header class="p-6 bg-white border-b">
                <h1 class="text-2xl font-bold serif">ë…ì„œ ë©”ëª¨</h1>
            </header>
            <div class="p-4">
                <textarea id="memo-input" class="w-full h-64 p-4 rounded-xl border-none ring-1 ring-gray-200 focus:ring-2 focus:ring-indigo-500 outline-none" placeholder="ì˜¤ëŠ˜ ì½ì€ ë‚´ìš©ì„ ììœ ë¡­ê²Œ ê¸°ë¡í•˜ì„¸ìš”..."></textarea>
            </div>
        </section>

        <section id="debate" class="tab-content">
            <header class="p-6 bg-white border-b">
                <h1 class="text-2xl font-bold serif">ì‚¬ìƒ‰ì˜ ê´‘ì¥</h1>
            </header>
            <div class="p-4 text-center text-gray-400 mt-20">ì¤€ë¹„ ì¤‘ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤.</div>
        </section>
    </main>

    <div id="modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center p-4 z-50">
        <div class="bg-white w-full max-w-sm rounded-2xl p-6">
            <h2 class="text-xl font-bold mb-4 serif">ìƒˆ ë¬¸ì¥ ê¸°ë¡</h2>
            <textarea id="new-quote" class="w-full h-32 p-3 border rounded-xl mb-4 outline-none focus:ring-2 focus:ring-indigo-500" placeholder="ì¸ìƒ ê¹Šì€ ë¬¸ì¥ì„ ì ì–´ì£¼ì„¸ìš”"></textarea>
            <div class="flex space-x-2">
                <button onclick="closeModal()" class="flex-1 py-3 bg-gray-100 rounded-xl font-bold">ì·¨ì†Œ</button>
                <button onclick="saveQuote()" class="flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold">ì €ì¥í•˜ê¸°</button>
            </div>
        </div>
    </div>

    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-3 pb-6">
        <button onclick="switchTab('home')" class="nav-btn flex flex-col items-center text-indigo-600">
            <span class="text-xl">ğŸ </span><span class="text-[10px] mt-1">ì„œì¬</span>
        </button>
        <button onclick="switchTab('sentences')" class="nav-btn flex flex-col items-center text-gray-400">
            <span class="text-xl">ğŸ”–</span><span class="text-[10px] mt-1">ë¬¸ì¥</span>
        </button>
        <button onclick="switchTab('memo')" class="nav-btn flex flex-col items-center text-gray-400">
            <span class="text-xl">ğŸ“</span><span class="text-[10px] mt-1">ë©”ëª¨</span>
        </button>
        <button onclick="switchTab('debate')" class="nav-btn flex flex-col items-center text-gray-400">
            <span class="text-xl">ğŸ’¬</span><span class="text-[10px] mt-1">í† ë¡ </span>
        </button>
    </nav>

    <script>
        // 1. íƒ­ ì „í™˜ ê¸°ëŠ¥
        function switchTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-indigo-600');
                btn.classList.add('text-gray-400');
            });
            event.currentTarget.classList.add('text-indigo-600');
            event.currentTarget.classList.remove('text-gray-400');
        }

        // 2. ëª¨ë‹¬ ì œì–´
        function openModal() { document.getElementById('modal').classList.replace('hidden', 'flex'); }
        function closeModal() { document.getElementById('modal').classList.replace('flex', 'hidden'); }

        // 3. ë¬¸ì¥ ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸° ê¸°ëŠ¥
        let quotes = JSON.parse(localStorage.getItem('myQuotes') || '[]');

        function renderQuotes() {
            const list = document.getElementById('quote-list');
            const recent = document.getElementById('recent-quote');
            list.innerHTML = '';
            
            if(quotes.length > 0) {
                recent.innerText = `"${quotes[quotes.length-1]}"`;
                recent.classList.remove('text-gray-400');
            }

            quotes.slice().reverse().forEach(q => {
                const div = document.createElement('div');
                div.className = "bg-white p-5 rounded-2xl shadow-sm border animate-fadeIn";
                div.innerHTML = `<p class="text-lg serif leading-relaxed">"${q}"</p>`;
                list.appendChild(div);
            });
        }

        function saveQuote() {
            const text = document.getElementById('new-quote').value;
            if(!text) return alert('ë¬¸ì¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
            
            quotes.push(text);
            localStorage.setItem('myQuotes', JSON.stringify(quotes));
            
            document.getElementById('new-quote').value = '';
            closeModal();
            renderQuotes();
        }

        // 4. ë©”ëª¨ì¥ ìë™ì €ì¥ ê¸°ëŠ¥
        const memoInput = document.getElementById('memo-input');
        memoInput.value = localStorage.getItem('myMemo') || '';
        memoInput.addEventListener('input', (e) => {
            localStorage.setItem('myMemo', e.target.value);
        });

        // ì´ˆê¸° ì‹¤í–‰
        renderQuotes();
    </script>
</body>
</html>
